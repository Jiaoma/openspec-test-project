<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Team Todo App</title>
    <link rel="stylesheet" href="styles.css">
    <!-- 引入 ECharts 图表库 -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
</head>
<body>
    <div class="container" id="app">
        <!-- 头部导航 -->
        <header class="header">
            <div class="header-left">
                <h1 class="logo">Todo App</h1>
                <div class="nav-tabs">
                    <button class="nav-tab active" data-tab="dashboard">
                        <span class="tab-icon">📊</span>
                        <span class="tab-text">看板</span>
                    </button>
                    <button class="nav-tab" data-tab="tasks">
                        <span class="tab-icon">📋</span>
                        <span class="tab-text">任务</span>
                    </button>
                    <button class="nav-tab" data-tab="goals">
                        <span class="tab-icon">🎯</span>
                        <span class="tab-text">目标</span>
                    </button>
                </div>
            </div>
            <div class="header-right">
                <button class="icon-btn" id="searchToggle" title="搜索任务">
                    <span class="icon">🔍</span>
                </button>
                <button class="icon-btn" id="userSwitch" title="切换用户">
                    <span class="icon">👥</span>
                </button>
            </div>
        </header>

        <!-- 用户切换模态框 -->
        <div class="modal" id="userModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>切换用户</h2>
                    <button class="modal-close">✕</button>
                </div>
                <div class="modal-body" id="userList">
                    <!-- 用户列表将由 JS 生成 -->
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" id="addUserModalBtn">+ 添加用户</button>
                </div>
            </div>
        </div>

        <!-- 搜索模态框 -->
        <div class="modal" id="searchModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>搜索任务</h2>
                    <button class="modal-close">✕</button>
                </div>
                <div class="modal-body">
                    <input type="text" id="searchInput" placeholder="输入任务关键词..." autofocus>
                </div>
            </div>
        </div>

        <!-- 主内容区 -->
        <main class="main-content">
            <!-- 统计看板 -->
            <section id="dashboardSection" class="section">
                <div class="stats-header">
                    <div class="current-user-info" id="currentUserInfo">
                        <!-- 当前用户信息 -->
                    </div>
                    <div class="time-selector">
                        <button class="time-btn active" data-period="monthly">月度</button>
                        <button class="time-btn" data-period="quarterly">季度</button>
                        <span class="current-date" id="currentDate"></span>
                    </div>
                </div>

                <div class="stats-dashboard">
                    <h2>🎉 每月目标达成快乐！</h2>
                    <div class="stats-grid" id="statsOverview">
                        <!-- 统计概览将由 JS 生成 -->
                    </div>
                </div>

                <div class="charts-container">
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3>任务完成率</h3>
                            <span class="chart-value" id="completionRate">0%</span>
                        </div>
                        <div id="completionChart" class="chart-box"></div>
                    </div>
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3>任务类型分布</h3>
                        </div>
                        <div id="categoryChart" class="chart-box"></div>
                    </div>
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3>优先级分布</h3>
                        </div>
                        <div id="priorityChart" class="chart-box"></div>
                    </div>
                </div>
            </section>

            <!-- 任务列表 -->
            <section id="tasksSection" class="section">
                <div class="tasks-header">
                    <h2>任务列表</h2>
                    <div class="tasks-actions">
                        <button class="btn btn-secondary" id="addTaskBtn">
                            <span class="btn-icon">+</span> 添加任务
                        </button>
                        <select id="filterSelect" class="filter-select">
                            <option value="all">全部任务</option>
                            <option value="pending">待完成</option>
                            <option value="completed">已完成</option>
                            <option value="high">高优先级</option>
                            <option value="medium">中优先级</option>
                            <option value="low">低优先级</option>
                        </select>
                        <select id="teamFilter" class="filter-select">
                            <option value="all">全部成员</option>
                        </select>
                    </div>
                </div>

                <!-- 添加任务表单 -->
                <div class="task-form" id="taskForm">
                    <textarea id="taskInput" placeholder="添加新任务... 按 Enter 快速保存" rows="2"></textarea>
                    <div class="task-form-options">
                        <div class="option-group">
                            <select id="taskPriority">
                                <option value="high">🔴 高优先级</option>
                                <option value="medium" selected>🟠 中优先级</option>
                                <option value="low">🟢 低优先级</option>
                            </select>
                            <select id="taskCategory">
                                <option value="">无分类</option>
                                <option value="工作">💼 工作</option>
                                <option value="学习">📚 学习</option>
                                <option value="生活">🏠 生活</option>
                                <option value="健康">💪 健康</option>
                            </select>
                        </div>
                        <div class="add-btn-wrapper">
                            <button class="btn btn-primary" id="saveTaskBtn">
                                <span class="btn-icon">💾</span> 添加
                            </button>
                        </div>
                    </div>
                </div>

                <!-- 任务列表容器 -->
                <div class="task-list" id="taskList">
                    <!-- 任务卡片将由 JS 生成 -->
                </div>

                <!-- 空状态提示 -->
                <div class="empty-state" id="emptyState" style="display: none;">
                    <div class="empty-icon">✨</div>
                    <p>暂无任务，开始添加你的第一个任务吧！</p>
                </div>
            </section>

            <!-- 目标管理 -->
            <section id="goalsSection" class="section">
                <div class="goals-header">
                    <h2>月度目标</h2>
                    <button class="btn btn-secondary" id="addGoalBtn">
                        <span class="btn-icon">🎯</span> 创建目标
                    </button>
                </div>

                <!-- 目标统计概览 -->
                <div class="goals-stats" id="goalsStats">
                    <!-- 目标统计将由 JS 生成 -->
                </div>

                <!-- 目标列表 -->
                <div class="goals-list" id="goalsList">
                    <!-- 目标卡片将由 JS 生成 -->
                </div>
            </section>
        </main>

        <!-- 提示消息 -->
        <div class="toast-container" id="toastContainer"></div>
    </div>

    <script src="app.js"></script>
</body>
</html>